{"ast":null,"code":"import _objectSpread from \"/Users/gautamr2590/Documents/PawPal/PawPal_UIUX/pawpal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/gautamr2590/Documents/PawPal/PawPal_UIUX/pawpal/src/context.js\";\nimport React, { Component } from \"react\";\nimport items from \"./data\"; // import Client from \"./Contentful\";\n\nconst PetContext = React.createContext();\n\nclass PetsProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      pets: [],\n      sortedPets: [],\n      newPets: [],\n      loading: true,\n      type: \"all\",\n      capacity: 1,\n      gender: \"all\",\n      breakfast: false\n    };\n\n    this.getPet = slug => {\n      let tempPets = [...this.state.pets];\n      const pet = tempPets.find(pet => pet.slug === slug);\n      return pet;\n    };\n  }\n\n  // getData\n  // getData = async () => {\n  //   try {\n  //     let response = await Client.getEntries({\n  //       content_type: \"beachResortRoom\",\n  //       // order: \"sys.createdAt\"\n  //       order: \"-fields.price\"\n  //     });\n  //     let rooms = this.formatData(response.items);\n  //     let featuredRooms = rooms.filter(room => room.featured === true);\n  //     let maxPrice = Math.max(...rooms.map(item => item.price));\n  //     let maxSize = Math.max(...rooms.map(item => item.size));\n  //     this.setState({\n  //       rooms,\n  //       featuredRooms,\n  //       sortedRooms: rooms,\n  //       loading: false,\n  //       price: maxPrice,\n  //       maxPrice,\n  //       maxSize\n  //     });\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // };\n  componentDidMount() {\n    // this.getData();\n    let pets = this.formatData(items);\n    let newPets = pets.filter(pet => pet.featured === true); //let maxPrice = Math.max(...rooms.map(item => item.price));\n    //let maxSize = Math.max(...rooms.map(item => item.size));\n\n    this.setState({\n      pets,\n      newPets,\n      sortedPets: pets,\n      loading: false\n    });\n  }\n\n  formatData(items) {\n    let tempItems = items.map(item => {\n      let id = item.sys.id;\n      let images = item.fields.images.map(image => image.fields.file.url);\n\n      let pet = _objectSpread({}, item.fields, {\n        images,\n        id\n      });\n\n      return pet;\n    });\n    return tempItems;\n  }\n\n  //   handleChange = event => {\n  //     const target = event.target;\n  //     const value = target.type === \"checkbox\" ? target.checked : target.value;\n  //     const name = event.target.name;\n  //     this.setState(\n  //       {\n  //         [name]: value\n  //       },\n  //       this.filterRooms\n  //     );\n  //   };\n  //   filterRooms = () => {\n  //     let {\n  //       rooms,\n  //       type,\n  //       capacity,\n  //       price,\n  //       minSize,\n  //       maxSize,\n  //       breakfast,\n  //       pets\n  //     } = this.state;\n  //     // all the rooms\n  //     let tempRooms = [...rooms];\n  //     // transform value\n  //     capacity = parseInt(capacity);\n  //     price = parseInt(price);\n  //     // filter by type\n  //     if (type !== \"all\") {\n  //       tempRooms = tempRooms.filter(room => room.type === type);\n  //     }\n  //     // filter by capacity\n  //     if (capacity !== 1) {\n  //       tempRooms = tempRooms.filter(room => room.capacity >= capacity);\n  //     }\n  //     // filter by price\n  //     tempRooms = tempRooms.filter(room => room.price <= price);\n  //     // filter by size\n  //     tempRooms = tempRooms.filter(\n  //       room => room.size >= minSize && room.size <= maxSize\n  //     );\n  //     // filter by breakfast\n  //     if (breakfast) {\n  //       tempRooms = tempRooms.filter(room => room.breakfast === true);\n  //     }\n  //     // filter by pets\n  //     if (pets) {\n  //       tempRooms = tempRooms.filter(room => room.pets === true);\n  //     }\n  //     // change state\n  //     this.setState({\n  //       sortedRooms: tempRooms\n  //     });\n  //   };\n  render() {\n    return React.createElement(PetContext.Provider, {\n      value: _objectSpread({}, this.state, {\n        getPet: this.getPet //           handleChange: this.handleChange\n\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, this.props.children);\n  }\n\n}\n\nconst PetsConsumer = PetContext.Consumer;\nexport function withPetsConsumer(Component) {\n  return function ConsumerWrapper(props) {\n    return React.createElement(PetsConsumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, value => React.createElement(Component, Object.assign({}, props, {\n      context: value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })));\n  };\n}\nexport { PetsProvider, PetsConsumer, PetContext };","map":{"version":3,"sources":["/Users/gautamr2590/Documents/PawPal/PawPal_UIUX/pawpal/src/context.js"],"names":["React","Component","items","PetContext","createContext","PetsProvider","state","pets","sortedPets","newPets","loading","type","capacity","gender","breakfast","getPet","slug","tempPets","pet","find","componentDidMount","formatData","filter","featured","setState","tempItems","map","item","id","sys","images","fields","image","file","url","render","props","children","PetsConsumer","Consumer","withPetsConsumer","ConsumerWrapper","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport items from \"./data\";\n// import Client from \"./Contentful\";\n\nconst PetContext = React.createContext();\n\nclass PetsProvider extends Component {\n  state = {\n    pets: [],\n    sortedPets: [],\n    newPets: [],\n    loading: true,\n    type: \"all\",\n    capacity: 1,\n    gender: \"all\",\n    breakfast: false,\n  };\n  // getData\n  // getData = async () => {\n  //   try {\n  //     let response = await Client.getEntries({\n  //       content_type: \"beachResortRoom\",\n  //       // order: \"sys.createdAt\"\n  //       order: \"-fields.price\"\n  //     });\n  //     let rooms = this.formatData(response.items);\n  //     let featuredRooms = rooms.filter(room => room.featured === true);\n  //     let maxPrice = Math.max(...rooms.map(item => item.price));\n  //     let maxSize = Math.max(...rooms.map(item => item.size));\n\n  //     this.setState({\n  //       rooms,\n  //       featuredRooms,\n  //       sortedRooms: rooms,\n  //       loading: false,\n  //       price: maxPrice,\n  //       maxPrice,\n  //       maxSize\n  //     });\n  //   } catch (error) {\n  //     console.log(error);\n  //   }\n  // };\n\n  componentDidMount() {\n    // this.getData();\n    let pets  = this.formatData(items);\n    let newPets = pets.filter(pet => pet.featured === true);\n    //let maxPrice = Math.max(...rooms.map(item => item.price));\n    //let maxSize = Math.max(...rooms.map(item => item.size));\n    this.setState({\n      pets, \n      newPets,\n      sortedPets: pets,\n      loading: false,\n    });\n  }\n\n  formatData(items) {\n    let tempItems = items.map(item => {\n      let id = item.sys.id;\n      let images = item.fields.images.map(image => image.fields.file.url);\n\n      let pet = { ...item.fields, images, id };\n      return pet;\n    });\n    return tempItems;\n  }\n  getPet = slug => {\n    let tempPets = [...this.state.pets];\n    const pet = tempPets.find(pet => pet.slug === slug);\n    return pet;\n  };\n//   handleChange = event => {\n//     const target = event.target;\n//     const value = target.type === \"checkbox\" ? target.checked : target.value;\n//     const name = event.target.name;\n\n//     this.setState(\n//       {\n//         [name]: value\n//       },\n//       this.filterRooms\n//     );\n//   };\n//   filterRooms = () => {\n//     let {\n//       rooms,\n//       type,\n//       capacity,\n//       price,\n//       minSize,\n//       maxSize,\n//       breakfast,\n//       pets\n//     } = this.state;\n//     // all the rooms\n//     let tempRooms = [...rooms];\n//     // transform value\n//     capacity = parseInt(capacity);\n//     price = parseInt(price);\n\n//     // filter by type\n//     if (type !== \"all\") {\n//       tempRooms = tempRooms.filter(room => room.type === type);\n//     }\n\n//     // filter by capacity\n//     if (capacity !== 1) {\n//       tempRooms = tempRooms.filter(room => room.capacity >= capacity);\n//     }\n//     // filter by price\n//     tempRooms = tempRooms.filter(room => room.price <= price);\n//     // filter by size\n//     tempRooms = tempRooms.filter(\n//       room => room.size >= minSize && room.size <= maxSize\n//     );\n//     // filter by breakfast\n//     if (breakfast) {\n//       tempRooms = tempRooms.filter(room => room.breakfast === true);\n//     }\n//     // filter by pets\n//     if (pets) {\n//       tempRooms = tempRooms.filter(room => room.pets === true);\n//     }\n//     // change state\n//     this.setState({\n//       sortedRooms: tempRooms\n//     });\n//   };\n render() {\n    return (\n      <PetContext.Provider\n       value={{\n         ...this.state,\n           getPet: this.getPet,\n//           handleChange: this.handleChange\n         }}\n       >\n         {this.props.children}\n       </PetContext.Provider>\n     );\n   }\n}\n\n const PetsConsumer = PetContext.Consumer;\n\nexport function withPetsConsumer(Component) {\n  return function ConsumerWrapper(props) {\n    return (\n      <PetsConsumer>\n        {value => <Component {...props} context={value} />}\n      </PetsConsumer>\n    );\n  };\n}\n\nexport { PetsProvider, PetsConsumer, PetContext };\n"]},"metadata":{},"sourceType":"module"}