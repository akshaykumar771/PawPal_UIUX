{"ast":null,"code":"import _objectSpread from \"/Users/gautamr2590/Documents/PawPal/PawPal_UIUX/pawpal/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/Users/gautamr2590/Documents/PawPal/PawPal_UIUX/pawpal/src/context.js\";\nimport React, { Component } from \"react\";\nimport items from \"./data\";\nconst PetContext = React.createContext();\n\nclass PetsProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      pets: [],\n      sortedPets: [],\n      newPets: [],\n      loading: true,\n      type: \"all\",\n      age: \"0\",\n      minAge: 0,\n      maxAge: 0,\n      gender: \"all\",\n      breakfast: false,\n      typeDog: [],\n      typeCat: []\n    };\n\n    this.getPet = slug => {\n      let tempPets = [...this.state.pets];\n      const pet = tempPets.find(pet => pet.slug === slug);\n      return pet;\n    };\n\n    this.getPetType = type => {\n      let tempPetType = [...this.state.pets];\n      const petType = tempPetType.find(pet => pet.type === type);\n      return petType;\n    };\n\n    this.handleChange = event => {\n      // const target = event.target;\n      // const gender = event.target.gender;\n      const value = event.target.value;\n      const name = event.target.name;\n      this.setState({\n        [name]: value\n      }, this.filterPets);\n    };\n\n    this.filterPets1 = () => {\n      console.log(\"Hello filter pets\");\n    };\n\n    this.filterPets = () => {\n      let _this$state = this.state,\n          gender = _this$state.gender,\n          age = _this$state.age;\n      let pets = this.formatData(items);\n      let tempPets = [...pets];\n\n      if (gender !== \"all\") {\n        tempPets = tempPets.filter(pet => pet.gender === gender);\n      }\n\n      tempPets = tempPets.filter(pet => pet.age <= age);\n      let typeDog1 = tempPets.filter(pet => pet.type === \"Dog\");\n      let typeCat1 = tempPets.filter(pet => pet.type === \"Cat\");\n      this.setState({\n        pets: tempPets,\n        typeDog: typeDog1,\n        typeCat: typeCat1\n      });\n    };\n  }\n\n  componentDidMount() {\n    let pets = this.formatData(items);\n    let newPets = pets.filter(pet => pet.featured === true);\n    let typeDog = pets.filter(pet => pet.type === \"Dog\");\n    let typeCat = pets.filter(pet => pet.type === \"Cat\");\n    let maxAge = Math.max(...pets.map(item => item.age));\n    let minAge = Math.min(...pets.map(item => item.age));\n    this.setState({\n      pets,\n      newPets,\n      typeDog,\n      typeCat,\n      sortedPets: pets,\n      loading: false,\n      age: maxAge,\n      maxAge,\n      minAge\n    });\n  }\n\n  refreshState() {\n    let pets = items.map(item => {\n      let id = item.sys.id;\n      let images = item.fields.images.map(image => image.fields.file.url);\n\n      let pet = _objectSpread({}, item.fields, {\n        images,\n        id\n      });\n\n      return pet;\n    });\n    let newPets = pets.filter(pet => pet.featured === true);\n    let typeDog = pets.filter(pet => pet.type === \"Dog\");\n    let typeCat = pets.filter(pet => pet.type === \"Cat\");\n    let maxAge = Math.max(...pets.map(item => item.age));\n    let minAge = Math.min(...pets.map(item => item.age));\n    console.log(\"refresh data\"); // this.setState({\n    //   pets, \n    //   newPets,\n    //   typeDog,\n    //   typeCat,\n    //   sortedPets: pets,\n    //   loading: false,\n    //   age: maxAge,\n    //   maxAge,\n    //   minAge,\n    // });\n  }\n\n  formatData(items) {\n    let tempItems = items.map(item => {\n      let id = item.sys.id;\n      let images = item.fields.images.map(image => image.fields.file.url);\n\n      let pet = _objectSpread({}, item.fields, {\n        images,\n        id\n      });\n\n      return pet;\n    });\n    return tempItems;\n  }\n\n  render() {\n    return React.createElement(PetContext.Provider, {\n      value: _objectSpread({}, this.state, {\n        getPet: this.getPet,\n        getPetType: this.getPetType,\n        handleChange: this.handleChange,\n        refreshState: this.refreshState\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, this.props.children);\n  }\n\n}\n\nconst PetsConsumer = PetContext.Consumer;\nexport function withPetsConsumer(Component) {\n  return function ConsumerWrapper(props) {\n    return React.createElement(PetsConsumer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, value => React.createElement(Component, Object.assign({}, props, {\n      context: value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    })));\n  };\n}\nexport { PetsProvider, PetsConsumer, PetContext };","map":{"version":3,"sources":["/Users/gautamr2590/Documents/PawPal/PawPal_UIUX/pawpal/src/context.js"],"names":["React","Component","items","PetContext","createContext","PetsProvider","state","pets","sortedPets","newPets","loading","type","age","minAge","maxAge","gender","breakfast","typeDog","typeCat","getPet","slug","tempPets","pet","find","getPetType","tempPetType","petType","handleChange","event","value","target","name","setState","filterPets","filterPets1","console","log","formatData","filter","typeDog1","typeCat1","componentDidMount","featured","Math","max","map","item","min","refreshState","id","sys","images","fields","image","file","url","tempItems","render","props","children","PetsConsumer","Consumer","withPetsConsumer","ConsumerWrapper"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport items from \"./data\";\n\nconst PetContext = React.createContext();\n\nclass PetsProvider extends Component {\n  state = {\n    pets: [],\n    sortedPets: [],\n    newPets: [],\n    loading: true,\n    type: \"all\",\n    age: \"0\",\n    minAge: 0,\n    maxAge: 0,\n    gender: \"all\",\n    breakfast: false,\n    typeDog: [],\n    typeCat: [],\n  };\n  componentDidMount() {\n    let pets  = this.formatData(items);\n    let newPets = pets.filter(pet => pet.featured === true);\n    let typeDog = pets.filter(pet => pet.type === \"Dog\");\n    let typeCat = pets.filter(pet => pet.type === \"Cat\");\n    let maxAge = Math.max(...pets.map(item => item.age));\n    let minAge = Math.min(...pets.map(item => item.age));\n\n    this.setState({\n      pets, \n      newPets,\n      typeDog,\n      typeCat,\n      sortedPets: pets,\n      loading: false,\n      age: maxAge,\n      maxAge,\n      minAge,\n    });\n  }\n\n  refreshState() {\n    let pets = items.map(item => {\n      let id = item.sys.id;\n      let images = item.fields.images.map(image => image.fields.file.url);\n\n      let pet = { ...item.fields, images, id };\n      return pet;\n    });\n    let newPets = pets.filter(pet => pet.featured === true);\n    let typeDog = pets.filter(pet => pet.type === \"Dog\");\n    let typeCat = pets.filter(pet => pet.type === \"Cat\");\n    let maxAge = Math.max(...pets.map(item => item.age));\n    let minAge = Math.min(...pets.map(item => item.age));\n    console.log(\"refresh data\")\n    // this.setState({\n    //   pets, \n    //   newPets,\n    //   typeDog,\n    //   typeCat,\n    //   sortedPets: pets,\n    //   loading: false,\n    //   age: maxAge,\n    //   maxAge,\n    //   minAge,\n    // });\n  }\n\n\n  formatData(items) {\n    let tempItems = items.map(item => {\n      let id = item.sys.id;\n      let images = item.fields.images.map(image => image.fields.file.url);\n\n      let pet = { ...item.fields, images, id };\n      return pet;\n    });\n    return tempItems;\n  }\n  getPet = slug => {\n    let tempPets = [...this.state.pets];\n    const pet = tempPets.find(pet => pet.slug === slug);\n    return pet;\n  };\n  getPetType = type => {\n    let tempPetType = [...this.state.pets];\n    const petType = tempPetType.find(pet => pet.type === type);\n    return petType;\n  }\n  handleChange = event => {\n    // const target = event.target;\n    // const gender = event.target.gender;\n    const value = event.target.value;\n    const name = event.target.name;\n    this.setState(\n       {\n         [name]: value\n       },\n       this.filterPets\n     );\n  };\n  filterPets1 = () =>{\n    console.log(\"Hello filter pets\");\n  }\n   filterPets = () => {\n     let {\n       gender,\n       age\n     } = this.state;\n      let pets  = this.formatData(items);\n\n      let tempPets = [...pets];\n     if (gender !== \"all\") {\n      tempPets = tempPets.filter(pet => pet.gender === gender);\n     }\n    tempPets = tempPets.filter(pet => pet.age <= age);\n    let typeDog1 = tempPets.filter(pet => pet.type === \"Dog\");\n    let typeCat1 = tempPets.filter(pet => pet.type === \"Cat\");\n     this.setState({\n      pets: tempPets,\n      typeDog: typeDog1,\n      typeCat: typeCat1\n     });\n   };\n render() {\n    return (\n      <PetContext.Provider\n       value={{\n         ...this.state,\n           getPet: this.getPet,\n           getPetType: this.getPetType,\n           handleChange: this.handleChange,\n           refreshState: this.refreshState\n         }}\n       >\n         {this.props.children}\n       </PetContext.Provider>\n     );\n   }\n}\n\n const PetsConsumer = PetContext.Consumer;\n\nexport function withPetsConsumer(Component) {\n  return function ConsumerWrapper(props) {\n    return (\n      <PetsConsumer>\n        {value => <Component {...props} context={value} />}\n      </PetsConsumer>\n    );\n  };\n}\n\nexport { PetsProvider, PetsConsumer, PetContext };\n"]},"metadata":{},"sourceType":"module"}